<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
      <link rel="stylesheet" href="/styles/homePage.css">
</head>
<body>
    <form action="" method="post">
    <header>
        <li><img src="/images/logo.png" alt="logo" width="80vw" height="80vh"></li>

        <li id="current"><a href="./homePage.ejs?=<%=userName%>" style="text-decoration:none">Home</a></li>

        <li><a href="./shop.ejs?=<%=userName%>" style="text-decoration:none">Shop</a></li>

        <li><a href="./inventory.ejs?=<%=userName%>" style="text-decoration:none">Inventory</a></li>

        <li><a href="./clan.ejs?=<%=userName%>" style="text-decoration:none">Clan</a></li>

        <li class="resourses"><img src="/images/coins.png" alt="coins" width="20vw" height="20vh">&nbsp;<input type="text" id="coins" name="coins" value="<%=coins%>" contenteditable="false"></li>

        <li class="resourses"><img src="/images/gems.png" alt="gems" width="20vw" height="20vh">&nbsp;<input type="text" name="gems" value="<%=gems%>" contenteditable="false"></li>

        <li id="profile"><a href="./profile.ejs?=<%=userName%>"><span class="material-symbols-outlined">
            account_circle
            </span></a></li>
    </header>
    <div class="empty"></div>
    <div class="edit invisible">
        <div class="editTask">
        <input type="text" value="New Task">
        <span class="material-symbols-outlined" id="closeEdit" type="button">
            close
            </span>
        <button id="editTask">Save</button>
    </div>
</div>

<input id="coinFormula" type="hidden" value=<%=league%>>

    <div class="content">
        <div class="stats">
                <div class="level">
                        <p name="userName">#<%=userName%></p>
                        <hr>
                        <img src="/images/l<%=league%>.png" alt="league" width="35%" height="40%">
                        <div class="progress">
                            <input type="text" id="exp" value=<%=exp%> name="exp" class="l<%=league%>" style="width:<%=exp%>%">
                        </div>
                </div>
                <div class="buffs">
                    <p>Skills</p>
                    <hr>
                    <ul>
                        <li><img src="/images/attack.png" alt="attack" width="10%" height="10%"><span> Attack : <%=attack%>
                        </span></li>

                        <li><img src="/images/persistence.png" alt="persistence" width="10%" height="10%"><span> Persistence : 
                            <%=persistence%>
                        </span></li>

                        <li><img src="/images/defence.png" alt="defence" width="10%" height="10%"><span> Defence : <%=defence%>    
                        </span></li>

                        <li><img src="/images/intelligence.png" alt="intelligence" width="10%" height="10%"><span> Intelligence : 
                            <%=intelligence%>    
                        </span></li>
                    </ul>
                </div>
            <div class="equipments">
                <h1>Equipments</h1>
                <ul class="equiped">
                <li><img src="/images/<%=equipped["sword"]%>.png" alt="Attack" id="attack" width="70%" height="80%"></li>
                <li><img src="/images/<%=equipped["shield"]%>.png" alt="Persistence" id="persistence" width="70%" height="80%"></li>
                <li><img src="/images/<%=equipped["armour"]%>.png" alt="Defence" id="defence" width="70%" height="80%"></li>
                <li><img src="/images/<%=equipped["helmet"]%>.png" alt="Intelligence" id="intelligence" width="70%" height="80%"></li>
                </ul>
            </div>
        </div>
        <div class="tasks">
            <button id="save" type="submit">Save Changes</button>
            <input type="hidden" name="questDetails" value=<%=questDetails%>>
            <%for(i=0;i<taskData.length;i++){%>
                <div class="task" id="taskBox<%=i+1%>">
                    <%if(taskData[i]["task_done"]){%>
                    <input type="checkbox" id="checkbox<%=i+1%>" name="checkbox" value="checkbox<%=i+1%>" checked>
                    <input style="text-decoration:line-through" id="task<%=i+1%>" class="taskText" name="task" contenteditable="false" value="<%=taskData[i]["task"]%>">
                    <%}else{%>
                    <input type="checkbox" id="checkbox<%=i+1%>" name="checkbox" value="checkbox<%=i+1%>" >
                    <input id="task<%=i+1%>" class="taskText" name="task" contenteditable="false" value="<%=taskData[i]["task"]%>">
                    <%}%>
                    <span class="material-symbols-outlined editButton" type="button" id="edit<%=i+1%>">
                        edit
                        </span>
                        <span class="material-symbols-outlined deleteButton" type="button" id="delete<%=i+1%>">
                            delete
                            </span>
                </div>
                <%}%>
                <div id="empty" style="display:none"></div>
                <div class="task invisible newTask" id="taskBox<%=i+1%>">
                    <input type="checkbox" id="checkbox<%=i+1%>" name="checkbox" value="checkbox<%=i+1%>">
                    <input id="task<%=i+1%>" class="taskText" name="task" contenteditable="true" value="New Task">
                    <span class="material-symbols-outlined editButton" type="button" id="edit<%=i+1%>">
                        edit
                        </span>
                        <span>0</span>
                </div>
            <div>
                <span class="material-symbols-outlined" id="add" type="button">
                    add_box
                    </span>
            </div>
        </div>
    </div>
</form>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="/js/homePage.js"></script>
</body>
</html>